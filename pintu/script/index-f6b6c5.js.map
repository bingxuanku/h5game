{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/global.js","webpack:///./src/css/puzzle.css","webpack:///./src/images/clipart.png","webpack:///./src/images/covers/a.jpg","webpack:///./src/images/covers/b.jpg","webpack:///./src/images/covers/c.jpg","webpack:///./src/images/covers/d.jpg","webpack:///./src/images/covers/e.jpg","webpack:///./src/images/pause@2x.png","webpack:///./src/images/pictures/a.jpg","webpack:///./src/images/pictures/b.jpg","webpack:///./src/images/pictures/c.jpg","webpack:///./src/images/pictures/d.jpg","webpack:///./src/images/pictures/e.jpg","webpack:///./src/images/play@2x.png","webpack:///./src/images/shade.jpg","webpack:///./src/script/Puzzle.es6","webpack:///./src/script/index.es6","webpack:///./src/script/lib/Event.es6","webpack:///./src/script/lib/Gridistribution.es6","webpack:///./src/script/lib/timer.es6","webpack:///./src/script/lib/utils.es6","webpack:///external \"TweenMax\"","webpack:///external \"PIXI\"","webpack:///external [\"PIXI\",\"filters\"]"],"names":["g","Function","e","window","_typeof","module","exports","PIXI","skipHello","Puzzle","_this","_classCallCheck","width","height","hasOwnProperty","touchstart","touchmove","touchend","tap","_document$body","document","body","clientWidth","clientHeight","clientRatio","imageWidth","imageHeight","imageRatio","app","transparent","view","getElementById","antialias","stage","renderer","ticker","addEventListener","preventDefault","event","Event","totalTime","hidden","pause","isOff","resume","_createClass","key","get","_difficulty","set","value","setDifficulty","init","_this2","puzzle","x","y","pivotX","pivotY","addChild","fireworksContainer","cliparts","loader","Loader","add","name","url","require","load","shade","TextureCache","alpha","addChildAt","on","off","texture","paused","loaded","fireworks","i","rect","rr","Math","random","rg","rb","mask","beginFill","drawRect","sprite","generateCanvasTexture","shell","timeProgressBack","timeProgressFront","scaleX","interactive","turnOn","turnOff","dispatch","render","percent","enter","picture","_this3","setTimeout","difficulty","destroyCliparts","timer","currentTime","TweenMax","killAll","showLoading","afterLoad","originBase","base","negative","visible","clip","hideLoading","fromTo","scaleY","onComplete","then","countdown","resources","col","row","total","clipart","clipWidth","Object","assign","index","selected","push","left","top","cacheAsBitmap","filters","_break","_this4","bounds","getBounds","_ref","gridProps","cell","rectangles","grid","Gridistribution","cells","pick","length","count","reset","activeCliparts","startPositions","_ref2","data","_ref2$data","endPosition","global","identifier","activeClipart","startPosition","negativeCount","rotate","negativeRotate","x0","y0","touchendHandle","_ref3","abs","lock","parent","getChildIndex","removeChild","fit","tweens","forEach","_ref4","_ref4$data","position","maxIndex","max","children","needFitRotation","_selected$toLocal","toLocal","origin","boxOffsetX","boxOffsetY","PI","props","to","Promise","resolve","tl","TimelineLite","call","leftClipart","rightClipart","upClipart","downClipart","parentB","console","log","destroy","tween","kill","ease","Linear","easeNone","pass","_this5","displayShell","_this6","shellTimeline","undefined","rnd","tls","map","_ref5","anchorX","anchorY","rotation","reject","restart","clean","destroyChildren","destroyTextureCache","child","_this7","parentA","_this8","setInterval","timeProgress","pauseAll","stop","resumeAll","start","levels","thumb","instr","free","record","JSON","parse","localStorage","getItem","level","puzzleList","innerHTML","concat","join","puzzleLevel","querySelectorAll","showPuzzleMap","puzzleMap","className","hidePuzzleMap","selectLevel","puzzleGame","updateRecord","back","puzzleAd","style","display","setItem","stringify","difficultyOpts","checked","alert","opt","resumeGame","onclick","defineEvent","register","cb","arg","len","_loop","splice","_ret","once","onceCb","apply","arguments","_ref$cell","_ref$rectangles","Array","j","trim","_shuffle","a","floor","startCol","startRow","endCol","endRow","isRemoved","filter","shuffleCells","slice","Timer","queue","Map","usingRAF","Reflect","defineProperty","RAF","enable","disable","fn","delay","id","Symbol","type","elapsed","clearTimeout","clearInterval","config","item","_delete","play","playAll","tick","delta","updateQueue","update","useRAF","AnimationFrame","time","auto","bind","requestAnimationFrame","cancelAnimationFrame","proto","DisplayObject","prototype","offsetX","offsetY","defineProperties","scale","skewX","skew","skewY","pivot","anchor","coord","_tempDisplayObjectParent","pointA","_left","_top","pointB","Point","right","_right","bottom","_bottom","t","_t","velocityX","velocityY","accelerationX","accelerationY","_index","setChildIndex","_addChild","Container","_addChildAt","dirty","getContentBox","cp","clone","graphicsData","_iterator","_createForOfIteratorHelper","_step","s","n","done","graphics","lineWidth","err","f","_cwidth","_cheight","Graphics","writable","cache","RenderTexture","create","setTransform","evt","createEvent","initEvent","dispatchEvent"],"mappings":"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","file":"./script/index-f6b6c5.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/script/index.es6\");\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","// removed by extract-text-webpack-plugin","module.exports = __webpack_public_path__ + \"./images/clipart-fbd686.png\";","module.exports = __webpack_public_path__ + \"./images/a-b62648.jpg\";","module.exports = __webpack_public_path__ + \"./images/b-617030.jpg\";","module.exports = __webpack_public_path__ + \"./images/c-218762.jpg\";","module.exports = __webpack_public_path__ + \"./images/d-5b5e47.jpg\";","module.exports = __webpack_public_path__ + \"./images/e-364604.jpg\";","module.exports = __webpack_public_path__ + \"./images/pause@2x-fef54b.png\";","module.exports = __webpack_public_path__ + \"./images/a-85b826.jpg\";","module.exports = __webpack_public_path__ + \"./images/b-c9b29e.jpg\";","module.exports = __webpack_public_path__ + \"./images/c-21e980.jpg\";","module.exports = __webpack_public_path__ + \"./images/d-d7cfe9.jpg\";","module.exports = __webpack_public_path__ + \"./images/e-55ce8c.jpg\";","module.exports = __webpack_public_path__ + \"./images/play@2x-982c2f.png\";","module.exports = __webpack_public_path__ + \"./images/shade-bc0975.jpg\";","/*\n\t@ author: leeenx\n\t@ 拼图\n*/\n\nimport * as PIXI from '@pixi'\nimport * as filters from '@pixi-extra-filters'\nimport { TweenMax, TimelineLite, Linear } from '@gsap/tween-max'\n\n// 安装模块\nimport './lib/utils'\nimport Gridistribution from './lib/Gridistribution'\nimport timer from './lib/timer'\nimport Event from './lib/Event'\nPIXI.utils.skipHello()\n\nclass Puzzle {\n\tconstructor() {\n\t\tthis.width = 375\n\t\tthis.height = 603\n\n\t\t// 事件兼容\n\t\tif(window.hasOwnProperty('ontouchstart') === true) {\n\t\t\tthis.touchstart = 'touchstart'\n\t\t\tthis.touchmove = 'touchmove'\n\t\t\tthis.touchend = 'touchend'\n\t\t\tthis.tap = 'tap'\n\t\t}\n\t\telse {\n\t\t\tthis.touchstart = 'mousedown'\n\t\t\tthis.touchmove = 'mousemove'\n\t\t\tthis.touchend = 'mouseup'\n\t\t\tthis.tap = 'click'\n\t\t}\n\n\t\t// 全屏适配\n\t\tlet {clientWidth, clientHeight} = document.body\n\t\tlet clientRatio = clientWidth / clientHeight\n\t\t// 长屏\n\t\tif(clientRatio < this.width / this.height) {\n\t\t\tthis.height = this.width / clientRatio\n\t\t}\n\t\t// 短屏\n\t\telse {\n\t\t\tthis.width = this.height * clientRatio\n\t\t}\n\n\t\t// 拼图尺寸\n\t\tthis.imageWidth = 300 * .88 >> 0\n\t\tthis.imageHeight = 450 * .88 >> 0\n\t\t\n\t\t// 图片与视窗的比率 \n\t\tthis.imageRatio = this.imageWidth / this.width\n\n\t\tthis.app = new PIXI.Application(\n\t\t\t{\n\t\t\t\twidth: this.width, \n\t\t\t\theight: this.height, \n\t\t\t\ttransparent: true, \n\t\t\t\tview: document.getElementById('puzzleGame'), \n\t\t\t\tantialias: true\n\t\t\t}\n\t\t)\n\t\tthis.stage = this.app.stage\n\t\tthis.renderer = this.app.renderer\n\t\tthis.ticker = this.app.ticker\n\t\tthis.app.view.addEventListener(this.touchstart, e => e.preventDefault())\n\n\t\t// 事件\n\t\tthis.event = new Event()\n\n\t\t// 默认倒计时长\n\t\tthis.totalTime = 60\n\n\t\t// 做挂起监听\n\t\tdocument.addEventListener('visibilitychange', e => {\n\t\t    e.hidden === true ? this.pause() : this.isOff !== true && this.resume()\n\t\t}, true)\n\t}\n\tget difficulty() {\n\t\treturn this._difficulty\n\t}\n\tset difficulty(value) {\n\t\tif(this._difficulty !== value) {\n\t\t\tthis._difficulty = value\n\t\t\tthis.setDifficulty()\n\t\t}\n\t} \n\tinit() { \n\t\t// 拼图容器\n\t\tthis.puzzle = new PIXI.Container()\n\t\tthis.puzzle.set(\n\t\t\t{\n\t\t\t\tx: this.width / 2, \n\t\t\t\ty: this.height / 2, \n\t\t\t\tpivotX: this.imageWidth / 2, \n\t\t\t\tpivotY: this.imageHeight / 2 \n\t\t\t}\n\t\t)\n\t\t// 加入舞台\n\t\tthis.stage.addChild(this.puzzle)\n\n\t\t// 礼花容器\n\t\tthis.fireworksContainer = new PIXI.Container()\n\n\t\t// 拼图数组\n\t\tthis.cliparts = []\n\t\tlet loader = new PIXI.loaders.Loader()\n\t\t// 加载必须图片\n\t\tloader.add(\n\t\t\t\t[\n\t\t\t\t\t{name: 'shade', url: require('../images/shade.jpg')}, \n\t\t\t\t\t{name: 'clipart', url: require('../images/clipart.png')}, \n\t\t\t\t\t{name: 'pause', url: require('../images/pause@2x.png')}, \n\t\t\t\t\t{name: 'play', url: require('../images/play@2x.png')}\n\t\t\t\t]\n\t\t\t)\n\t\t\t.load(() => {\n\t\t\t\tlet shade = new PIXI.Sprite(PIXI.utils.TextureCache['shade'])\n\t\t\t\tshade.set(\n\t\t\t\t\t{\n\t\t\t\t\t\talpha: .99, \n\t\t\t\t\t\twidth: this.width, \n\t\t\t\t\t\theight: this.height\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tthis.stage.addChildAt(shade, 0)\n\t\t\t\t// 开关\n\t\t\t\tthis.on = PIXI.utils.TextureCache['play']\n\t\t\t\tthis.off = PIXI.utils.TextureCache['pause']\n\t\t\t\tthis.switch.texture = this.paused === true ? this.on : this.off\n\t\t\t\tthis.loaded = true\n\t\t\t\t// 生成礼花\n\t\t\t\tthis.fireworks = []\n\t\t\t\t// 默认礼花\n\t\t\t\tfor(let i = 0; i < 24; ++i) {\n\t\t\t\t\tlet rect = new PIXI.Graphics()\n\t\t\t\t\tlet rr = Math.random() * 0xFF | 0\n\t\t\t\t    let rg = Math.random() * 0xFF | 0\n\t\t\t\t    let rb = Math.random() * 0xFF | 0\n\t\t\t\t    let width = 80\n\t\t\t\t    let height = 80\n\t\t\t\t    let mask = new PIXI.Sprite(PIXI.utils.TextureCache['clipart'])\n\t\t\t\t    mask.set({width: width, height: height})\n\t\t\t\t\trect.beginFill((rr << 16) + (rg << 8) + rb, 1).drawRect(0, 0, width, height)\n\t\t\t\t\tlet sprite = new PIXI.Sprite(rect.generateCanvasTexture())\n\t\t\t\t\tsprite.mask = mask\n\t\t\t\t\tsprite.addChild(mask)\n\t\t\t\t\tlet shell = new PIXI.Sprite(sprite.generateCanvasTexture(this.renderer))\n\t\t\t\t\tthis.fireworks[i] = shell\n\t\t\t\t}\n\t\t\t})\n\t\t// 时间进度条容器\n\t\tthis.timeProgressBack = new PIXI.Graphics()\n\t\tthis.timeProgressBack.beginFill(0x6190e7, 1).drawRect(0, 0, this.width, 5)\n\t\tthis.timeProgressFront = new PIXI.Graphics()\n\t\tthis.timeProgressFront.beginFill(0x70BF41, 1).drawRect(0, 0, this.width, 5)\n\t\tthis.timeProgressFront.scaleX = 0;  \n\t\tthis.timeProgressBack.addChild(this.timeProgressFront)\n\t\tthis.stage.addChild(this.timeProgressBack)\n\t\t// 暂停按钮\n\t\tthis.switch = new PIXI.Sprite()\n\t\tthis.switch.set({width: 32, height: 32, y: 6, x: this.width - 36})\n\t\tthis.stage.addChild(this.switch)\n\t\tthis.switch.interactive = true\n\t\tthis.switch.on(this.tap, e => this.paused === true ? this.turnOn() : this.turnOff())\n\t}\n\tturnOn() {\n\t\tthis.resume()\n\t\tthis.switch.texture = this.off\n\t\tthis.event.dispatch('resume')\n\t\tthis.isOff = false\n\t\tthis.renderer.render(this.stage)\n\t}\n\tturnOff() {\n\t\tthis.pause()\n\t\tthis.switch.texture = this.on\n\t\tthis.event.dispatch('pause')\n\t\tthis.isOff = true\n\t\tthis.renderer.render(this.stage)\n\t}\n\tset timeProgress(value) {\n\t\tlet percent = (this.totalTime - value) / this.totalTime\n\t\tthis.timeProgressFront.scaleX = percent > 1 ? 1 : percent\n\t} \n\t// 进入对应的图片\n\tenter(picture) {\n\t\t// 未加载成功 \n\t\tif(this.loaded !== true) { \n\t\t\tsetTimeout(()=> this.enter(picture, difficulty), 100)\n\t\t\treturn \n\t\t}\n\t\t// 销毁上次的拼块\n\t\tthis.destroyCliparts()\n\t\t// 清空倒计时\n\t\ttimer.delete(this.timer)\n\t\t// 重置时长 \n\t\tthis.currentTime = this.totalTime\n\t\tthis.timeProgressFront.scaleX = 0\n\n\t\t// 清空所有动画\n\t\tTweenMax.killAll()\n\n\t\t// 如果暂停了，恢复\n\t\tthis.isOff === true && this.turnOn()\n\n\t\tthis.showLoading()\n\n\t\tlet afterLoad = () => {\n\t\t\t// 生成拼图的底层纹理 \n\t\t\tlet originBase = new PIXI.Sprite(PIXI.utils.TextureCache[picture])\n\t\t\t// 重置尺寸 \n\t\t\toriginBase.set(\n\t\t\t\t{\n\t\t\t\t\twidth: this.imageWidth, \n\t\t\t\t\theight: this.imageHeight\n\t\t\t\t}\n\t\t\t)\n\t\t\t// this.base 挂载原始图片的快照 \n\t\t\tthis.base = originBase.generateCanvasTexture(this.renderer)\n\t\t\t// 拼图的底片 \n\t\t\tthis.negative = new PIXI.Sprite(this.base)\n\t\t\tthis.negative.set(\n\t\t\t\t{\n\t\t\t\t\tx: this.puzzle.x, \n\t\t\t\t\ty: this.puzzle.y, \n\t\t\t\t\tpivotX: this.puzzle.pivotX, \n\t\t\t\t\tpivotY: this.puzzle.pivotY, \n\t\t\t\t\talpha: .2, \n\t\t\t\t\tvisible: false\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tthis.stage.addChildAt(this.negative, 1)\n\t\t\tthis.clip()\n\t\t\tthis.hideLoading()\n\t\t\t// 拼图收缩\n\t\t\tTweenMax.fromTo(\n\t\t\t\tthis.puzzle, 1, \n\t\t\t\t{\n\t\t\t\t\tscaleX: 1 / this.imageRatio, \n\t\t\t\t\tscaleY: 1 / this.imageRatio\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\t\tscaleX: 1, \n\t\t\t\t\tscaleY: 1, \n\t\t\t\t\t// 拼图分散后，倒计时开始\n\t\t\t\t\tonComplete: ()=> this.break().then(e => this.countdown())\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t\tPIXI.loader.resources[picture] ? afterLoad() : PIXI.loader.add(picture).load(afterLoad)\n\t}\n\n\t// 设置难度\n\tsetDifficulty() {\n\t\t// 行列数生成\n\t\tthis.col = this.difficulty * 2\n\t\tthis.row = this.difficulty * 3\n\t\t// 总数\n\t\tthis.total = this.col * this.row\n\t\t/*\n\t\t\t@ 计算拼块的尺寸\n\t\t\t@ 原始大小: 300x300\n\t\t\t@ 镂空尺寸为 65\n\t\t\t@ (拼图宽 + 2个镂空) / 列数 = 拼块宽 - 镂空\n\t\t\t@ 镂空 / 拼块宽 = 65 / 300\n\t\t*/\n\t\tthis.clipart = {}\n\t\t// 按照难度剪裁后的宽度 \n\t\tconst width = this.imageWidth / (this.col * 235 / 300 - 65 * 2 / 300) >> 0\n\t\tconst clipWidth = width * 65 / 300 >> 0\n\t\tObject.assign(\n\t\t\tthis.clipart,\n\t\t\t{ width, height: width, clipWidth}\n\t\t)\n\t}\n\n\t// 显示加载\n\tshowLoading() {\n\n\t}\n\n\t// 隐藏加载\n\thideLoading() {\n\n\t}\n\n\t// 将图像剪裁成拼图碎片\n\tclip() {\n\t\t// 清空 cliparts\n\t\tthis.cliparts = []\n\t\t// 清空数组\n\t\tthis.cliparts = []\n\t\tlet x = 0\n\t\tlet y = 0\n\t\tfor(let row = 0; row < this.row; ++row) { \n\t\t\tx = 0\n\t\t\tfor(let col = 0; col < this.col; ++col) { \n\t\t\t\tlet clipart = {\n\t\t\t\t\tindex: row * this.col + col, \n\t\t\t\t\twidth: this.clipart.width, \n\t\t\t\t\theight: this.clipart.height, \n\t\t\t\t\tx: x, \n\t\t\t\t\ty: y\n\t\t\t\t}\n\t\t\t\tlet mask = new PIXI.Sprite(PIXI.utils.TextureCache['clipart'])\n\t\t\t\tthis.stage.addChild(mask)\n\t\t\t\tmask.width = mask.height = this.clipart.width\n\t\t\t\tif(0 === row) {\n\t\t\t\t\tclipart.height -= this.clipart.clipWidth\n\t\t\t\t\tmask.y = -this.clipart.clipWidth\n\t\t\t\t}\n\t\t\t\tif(0 === col) {\n\t\t\t\t\tclipart.width -= this.clipart.clipWidth\n\t\t\t\t\tmask.x = -this.clipart.clipWidth\n\t\t\t\t}\n\t\t\t\t// 对底纹进行裁剪\n\t\t\t\t{ \n\t\t\t\t\tlet x = clipart.x\n\t\t\t\t\tlet y = clipart.y\n\t\t\t\t\tlet width = clipart.width\n\t\t\t\t\tlet height = clipart.height\n\t\t\t\t\tif(x + width > this.base.width) {\n\t\t\t\t\t\twidth = this.base.width - x\n\t\t\t\t\t}\n\t\t\t\t\tif(y + height > this.base.height) {\n\t\t\t\t\t\theight = this.base.height - y\n\t\t\t\t\t}\n\t\t\t\t\t// 拼块\n\t\t\t\t\tclipart.sprite = new PIXI.Sprite(\n\t\t\t\t\t\tnew PIXI.Texture(\n\t\t\t\t\t\t\tthis.base, \n\t\t\t\t\t\t\tnew PIXI.Rectangle(x, y, width, height)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t// 被选中的拼块\n\t\t\t\t\tclipart.selected = new PIXI.Sprite(clipart.sprite.texture)\n\t\t\t\t} \n\t\t\t\t// console.log(col, row, x, y)\n\t\t\t\tthis.cliparts.push(clipart)\n\t\t\t\tclipart.sprite.set(\n\t\t\t\t\t{\n\t\t\t\t\t\tleft: x,  \n\t\t\t\t\t\ttop: y, \n\t\t\t\t\t\tmask: mask, \n\t\t\t\t\t\tcacheAsBitmap: true \n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tclipart.selected.set(\n\t\t\t\t\t{ \n\t\t\t\t\t\tmask: mask, \n\t\t\t\t\t\tfilters: [new filters.GlowFilter(10, 1.5, 1.5, 0x333333, .3)], \n\t\t\t\t\t\tcacheAsBitmap: true \n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tthis.puzzle.addChild(clipart.sprite)\n\n\t\t\t\t// 下一个拼块的 x 坐标\n\t\t\t\tx += clipart.width - this.clipart.clipWidth\n\t\t\t\tif(col === this.col - 1) { \n\t\t\t\t\t// 下一行拼块的 y 坐标\n\t\t\t\t\ty += clipart.height - this.clipart.clipWidth\n\t\t\t\t} \n\t\t\t} \n\t\t}\n\t}\n\t// 打散拼块\n\tbreak() {\n\t\t// this.puzzle 的坐标\n\t\tlet bounds = this.puzzle.getBounds()\n\t\tlet [x, y] = [bounds.x, bounds.y]\n\t\tthis.gridProps = {\n\t\t\twidth: this.width, \n\t\t\theight: this.height, \n\t\t\t// 最小面积\n\t\t\tcell: {\n\t\t\t\twidth: this.clipart.width * .8\n\t\t\t}, \n\t\t\t// 标记禁区\n\t\t\trectangles: [ \n\t\t\t\t// 右上角暂停按钮\n\t\t\t\t{\n\t\t\t\t\tx: this.width - 36, \n\t\t\t\t\ty: 0, \n\t\t\t\t\twidth: 36, \n\t\t\t\t\theight: 36\n\t\t\t\t}, \n\t\t\t\t// 中心拼图底图区\n\t\t\t\t{\n\t\t\t\t\tx: (this.width - this.imageWidth) / 2, \n\t\t\t\t\ty: (this.height- this.imageHeight) / 2, \n\t\t\t\t\twidth: this.imageWidth, \n\t\t\t\t\theight: this.imageHeight\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\tlet grid = new Gridistribution(this.gridProps)\n\t\t// 提取随机格子\n\t\tlet cells = grid.pick(this.cliparts.length)\n\t\tlet count = 0\n\t\tlet width = this.gridProps.cell.width\n\t\twhile(cells.length === 0 && ++count < 10) { \n\t\t\t// 面积不够，取一半值\n\t\t\twidth = width * .8\n\t\t\tthis.gridProps.cell.width = width\n\t\t\tgrid.reset(this.gridProps)\n\t\t\tcells = grid.pick(this.cliparts.length)\n\t\t}\n\n\t\t// 显示底片\n\t\tthis.negative.visible = true\n\n\t\t// 手指下的拼块（multiple touch）\n\t\tlet activeCliparts = []\n\n\t\t// 起始坐标（multiple touch）\n\t\tlet startPositions = []\n\n\t\t// 舞台添加事件\n\t\tthis.stage.interactive = true\n\t\tthis.stage.on(\n\t\t\tthis.touchmove,\n\t\t\t({\n\t\t\t\tdata, data: { global: endPosition, identifier }\n\t\t\t}) => {\n\t\t\tconst activeClipart = activeCliparts[identifier] || null\n\t\t\tconst startPosition = startPositions[identifier] || null\n\t\t\tif(activeClipart !== null && startPosition !== null) { \n\t\t\t\tif(--activeClipart.negativeCount >= 0) {\n\t\t\t\t\tactiveClipart.rotate += activeClipart.negativeRotate\n\t\t\t\t}\n\t\t\t\tlet left = activeClipart.x0 + endPosition.x - startPosition.x\n\t\t\t\tlet top = activeClipart.y0 + endPosition.y - startPosition.y\n\t\t\t\t// 侧滑会导致负坐标直接调用touchend\n\t\t\t\tif(left < -this.puzzle.x) {\n\t\t\t\t\ttouchendHandle({ data })\n\t\t\t\t\treturn \n\t\t\t\t}\n\t\t\t\tactiveClipart.selected.set(\n\t\t\t\t\t{\n\t\t\t\t\t\trotate: activeClipart.rotate, \n\t\t\t\t\t\tleft: left, \n\t\t\t\t\t\ttop: top\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\n\t\tlet touchendHandle = ({\n\t\t\tdata: { identifier }\n\t\t}) => {\n\t\t\tconst activeClipart = activeCliparts[identifier] || null\n\t\t\tif(activeClipart === null) return \n\t\t\t// 吸附效果 \n\t\t\tif(Math.abs(activeClipart.x - activeClipart.selected.left) <= 15 && Math.abs(activeClipart.y - activeClipart.selected.top) <= 15) {\n\t\t\t\tactiveClipart.selected.rotate = 0\n\t\t\t\tactiveClipart.selected.left = activeClipart.x\n\t\t\t\tactiveClipart.selected.top = activeClipart.y\n\t\t\t\t// 锁定\n\t\t\t\tactiveClipart.lock = true\n\t\t\t}\n\t\t\t// 初始坐标值变化\n\t\t\tactiveClipart.x0 = activeClipart.selected.left\n\t\t\tactiveClipart.y0 = activeClipart.selected.top\n\n\t\t\t// 正常拼块与选中拼块属性同步\n\t\t\tactiveClipart.sprite.set(\n\t\t\t\t{\n\t\t\t\t\ttop: activeClipart.selected.top, \n\t\t\t\t\tleft: activeClipart.selected.left, \n\t\t\t\t\trotate: activeClipart.selected.rotate\n\t\t\t\t}\n\t\t\t)\n\n\t\t\t// 当前索引\n\t\t\tlet index = activeClipart.selected.parent.getChildIndex(activeClipart.selected)\n\n\t\t\t// 移除选中拼块\n\t\t\tthis.puzzle.removeChild(activeClipart.selected)\n\t\t\t// 将拼块安装到对应位置上\n\t\t\tif(activeClipart.lock === true) {\n\t\t\t\tthis.fit(activeClipart)\n\t\t\t}\n\t\t\t// 替换成正常拼块\n\t\t\telse {\n\t\t\t\tthis.puzzle.addChildAt(activeClipart.sprite, index)\n\t\t\t} \n\n\t\t\t// 清空对象\n\t\t\tdelete activeCliparts[identifier]\n\t\t\tdelete startPositions[identifier]\n\t\t}\n\n\t\tthis.stage.on(this.touchend, touchendHandle)\n\n\t\t// 动画数组 \n\t\tlet tweens = []\n\t\t\n\t\t// 分布\n\t\tthis.cliparts.forEach((clipart, index) => { \n\t\t\t// 拼块\n\t\t\tlet sprite = clipart.sprite\n\t\t\t// 选中拼块\n\t\t\tlet selected = clipart.selected\n\t\t\t// 开启点击检测\n\t\t\tsprite.interactive = true\n\t\t\t// 添加事件\n\t\t\tsprite.on(this.touchstart, ({ data: { global: position, identifier } }) => {\n\t\t\t\t// 暂停中\n\t\t\t\tif(this.paused === true) return \n\t\t\t\t// 固定\n\t\t\t\tif(clipart.lock === true) { \n\t\t\t\t\t// 禁止交互\n\t\t\t\t\tsprite.interactive = false\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tlet parent = sprite.parent\n\t\t\t\t// 移除当前 sprite\n\t\t\t\tparent.removeChild(sprite)\n\t\t\t\t// 最高索引值\n\t\t\t\tlet maxIndex = Math.max(parent.children.length - 1, 0)\n\t\t\t\t// 替换成 selected \n\t\t\t\tparent.addChildAt(selected, maxIndex)\n\n\t\t\t\t// 拼块需要摆正 \n\t\t\t\tif(selected.rotate !== 0) { \n\t\t\t\t\tselected.needFitRotation = true\n\t\t\t\t\tlet {x, y} = selected.toLocal(position)\n\t\t\t\t\tselected.origin = sprite.origin = [x, y]\n\t\t\t\t\t// origin会引起盒子位置变化，以下是修正位置\n\t\t\t\t\tclipart.x0 += selected.boxOffsetX\n\t\t\t\t\tclipart.y0 += selected.boxOffsetY\n\t\t\t\t\tselected.set({left: clipart.x0, top: clipart.y0})\n\t\t\t\t} \n\t\t\t\tactiveCliparts[identifier] = clipart\n\t\t\t\tstartPositions[identifier] = {x: position.x, y: position.y}\n\t\t\t})\n\t\t\tclipart.rotate = (Math.random() - .5) * Math.PI / 4\n\n\t\t\tclipart.x0 = cells[index].x - x\n\t\t\tclipart.y0 = cells[index].y - y\n\t\t\t\n\t\t\t// 边拖边回正角度参数\n\t\t\tclipart.negativeCount = 10\n\t\t\tclipart.negativeRotate = -clipart.rotate / clipart.negativeCount\n\n\t\t\t// 拼块的属性\n\t\t\tlet props = {\n\t\t\t\tleft: clipart.x0, \n\t\t\t\ttop: clipart.y0, \n\t\t\t\trotate: clipart.rotate\n\t\t\t}\n\n\t\t\t// 拼块\n\t\t\t// TweenMax.to(sprite, .6, props)\n\t\t\ttweens.push(TweenMax.to(sprite, .3, props))\n\t\t\t// 选中拼块信息同步\n\t\t\tselected.set(props)\n\t\t})\n\t\t// 返回 Promise\n\t\treturn new Promise(\n\t\t\t(resolve) => {\n\t\t\t\tlet tl = new TimelineLite()\n\t\t\t\ttl.add(tweens, 0, 'start', .01).call(() => resolve())\n\t\t\t}\n\t\t)\n\t}\n\t// 安装拼块\n\tfit(clipart) {\n\t\t// 当前拼块索引\n\t\tlet index = clipart.index\n\t\t// 左边拼块\n\t\tlet leftClipart = index % this.col === 0 ? {lock: false} : this.cliparts[index - 1]\n\t\t// 右边拼块\n\t\tlet rightClipart = index % this.col === this.col - 1 ? {lock: false} : this.cliparts[index + 1]\n\t\t// 上边拼块\n\t\tlet upClipart = index < this.col ? {lock: false} : this.cliparts[index - this.col]\n\t\t// 下边的拼块\n\t\tlet downClipart = index / this.col >> 0 === this.row - 1 ? {lock: false} : this.cliparts[index + this.col]\n\t\t// 容器\n\t\tlet parent = null\n\t\t// 左拼块存在\n\t\tif(leftClipart.lock === true) { \n\t\t\tparent = leftClipart.sprite.parent\n\t\t}\n\t\t// 右拼块存在\n\t\tif(rightClipart.lock === true) { \n\t\t\tif(parent === null) {\n\t\t\t\tparent = rightClipart.sprite.parent\n\t\t\t}\n\t\t\t// 合并容器\n\t\t\telse {\n\t\t\t\tlet parentB = rightClipart.sprite.parent\n\t\t\t\tif(parentB === null) console.log('报错了', rightClipart, rightClipart.sprite, rightClipart.selected)\n\t\t\t\tif(parent !== parentB) {\n\t\t\t\t\tlet children = parentB.children\n\t\t\t\t\twhile(children.length > 0) {\n\t\t\t\t\t\tparent.addChild(children[0])\n\t\t\t\t\t} \n\t\t\t\t\t// 销毁\n\t\t\t\t\tparentB.destroy();  \n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// 上边拼块存在\n\t\tif(upClipart.lock === true) { \n\t\t\tif(parent === null) {\n\t\t\t\tparent = upClipart.sprite.parent\n\t\t\t}\n\t\t\t// 合并容器\n\t\t\telse { \n\t\t\t\tlet parentB = upClipart.sprite.parent\n\t\t\t\tif(parentB === null) console.log('报错了',upClipart, upClipart.sprite, upClipart.selected)\n\t\t\t\tif(parent !== parentB) {\n\t\t\t\t\tlet children = parentB.children\n\t\t\t\t\twhile(children.length > 0) {\n\t\t\t\t\t\tparent.addChild(children[0])\n\t\t\t\t\t} \n\t\t\t\t\t// 销毁\n\t\t\t\t\tparentB.destroy();  \n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// 下边拼块存在\n\t\tif(downClipart.lock === true) { \n\t\t\tif(parent === null) {\n\t\t\t\tparent = downClipart.sprite.parent\n\t\t\t}\n\t\t\t// 合并容器\n\t\t\telse {\n\t\t\t\tlet parentB = downClipart.sprite.parent\n\t\t\t\tif(parentB === null) console.log('报错了', downClipart, downClipart.sprite, downClipart.selected)\n\t\t\t\tif(parent !== parentB) {\n\t\t\t\t\tlet children = parentB.children\n\t\t\t\t\twhile(children.length > 0) {\n\t\t\t\t\t\tparent.addChild(children[0])\n\t\t\t\t\t} \n\t\t\t\t\t// 销毁\n\t\t\t\t\tparentB.destroy();  \n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// 在一个空位置\n\t\tif(parent === null) {\n\t\t\tparent = new PIXI.Container()\n\t\t\t// 与 puzzle 容器保持一致\n\t\t\tparent.set(\n\t\t\t\t{\n\t\t\t\t\tx: this.puzzle.x, \n\t\t\t\t\ty: this.puzzle.y, \n\t\t\t\t\tpivotX: this.puzzle.pivotX, \n\t\t\t\t\tpivotY: this.puzzle.pivotY, \n\t\t\t\t\tscaleX: this.puzzle.scaleX, \n\t\t\t\t\tscaleY: this.puzzle.scaleY\n\t\t\t\t}\n\t\t\t)\n\t\t\tthis.stage.addChildAt(parent, 2)\n\t\t}\n\n\t\t// 当前拼块安装到对应的容器\n\t\tparent.addChild(clipart.sprite)\n\n\t\t// 容器的动画\n\t\tparent.tween && parent.tween.kill()\n\t\tparent.tween = TweenMax.fromTo(parent, .6, {alpha: .4}, {alpha: 1, ease: Linear.easeNone})\n\n\t\t// 判断游戏是否通关\n\t\tif(this.puzzle.children.length === 0) {\n\t\t\tthis.pass()\n\t\t}\n\t}\n\tpass() { \n\t\ttimer.delete(this.timer)\n\t\tthis.displayShell().then(e => this.event.dispatch('pass', '通关'))\n\t}\n\t// 礼花\n\tdisplayShell() { \n\t\tthis.stage.addChild(this.fireworksContainer)\n\t\t// 创建一条时间轴\n\t\tif(this.shellTimeline === undefined) {\n\t\t\t// 礼花随机位置\n\t\t\tthis.gridProps.cell.width = 12\n\t\t\tlet rnd = (new Gridistribution(this.gridProps)).pick(this.fireworks.length)\n\t\t\t// 时间轴数组\n\t\t\tlet tls = rnd.map(({x, y}, index) => { \n\t\t\t\tlet shell = this.fireworks[index]\n\t\t\t\tshell.set(\n\t\t\t\t\t{\n\t\t\t\t\t\tscaleX: 1, \n\t\t\t\t\t\tscaleY: 1, \n\t\t\t\t\t\tanchorX: .5, \n\t\t\t\t\t\tanchorY: .5,  \n\t\t\t\t\t\ttop: 90, \n\t\t\t\t\t\tleft: 90\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tthis.fireworksContainer.addChild(shell)\n\t\t\t\tlet tl = new TimelineLite()\n\t\t\t\ttl\n\t\t\t\t\t.fromTo(\n\t\t\t\t\t\tshell, .6, \n\t\t\t\t\t\t{rotation: 0, left: x, top: y, scaleX: 0, scaleY: 0, alpha: 0}, \n\t\t\t\t\t\t{rotation: Math.PI, scaleX: 1, scaleY: 1, alpha: .5}\n\t\t\t\t\t)\n\t\t\t\t\t.to(\n\t\t\t\t\t\tshell, 1.2, \n\t\t\t\t\t\t{top: '+=560', left: (Math.random() > .5 ? '+' : '-')+ '=80', rotation: 0, alpha: 0}\n\t\t\t\t\t)\n\t\t\t\treturn tl\n\t\t\t})\n\t\t\tthis.shellTimeline = new TimelineLite()\n\t\t\tthis.shellTimeline.pause()\n\t\t\tthis.shellTimeline.add(tls, 0, 'start', 0.03)\n\t\t}\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.shellTimeline.restart().call(e => this.stage.removeChild(this.fireworksContainer) & resolve())\n\t\t})\n\t}\n\t// 销毁\n\tdestroy() {\n\t\ttimer.clean()\n\t\tTweenMax.killAll()\n\t\tthis.destroyChildren(this.stage)\n\t\tthis.stage.off(this.touchmove)\n\t\tthis.stage.off(this.touchend)\n\t\t// 销毁所有的纹理\n\t\tPIXI.utils.destroyTextureCache()\n\t\t// 删除加载记录\n\t\tPIXI.loader.reset()\n\t\tthis.loaded = false\n\t\tdelete this.shellTimeline\n\t}\n\n\t// 销毁子孙元素\n\tdestroyChildren(parent) {\n\t\tlet children = parent.children\n\t\twhile(children.length > 0) {\n\t\t\tlet child = children[0]\n\t\t\tparent.removeChild(child)\n\t\t\t// 递归删除\n\t\t\tthis.destroyChildren(child)\n\t\t\tchild.destroy()\n\t\t}\n\t}\n\n\t// 销毁所有拼块\n\tdestroyCliparts() {\n\t\tthis.cliparts.forEach(clipart => {\n\t\t\tlet {\n\t\t\t\tsprite, \n\t\t\t\tselected, \n\t\t\t\tsprite: {parent: parentA}, \n\t\t\t\tselected: {parent: parentB}\n\t\t\t} = clipart\n\t\t\tsprite.destroy()\n\t\t\tselected.destroy()\n\t\t\tparentA !== null && parentA !== this.puzzle && parentA.destroy()\n\t\t\tparentB !== null && parentB !== this.puzzle && parentB.destroy()\n\t\t})\n\t\tthis.negative && this.negative.destroy()\n\t}\n\n\t// 倒计时\n\tcountdown() {\n\t\tthis.timer = timer.setInterval(e => { \n\t\t\tthis.currentTime -= .1\n\t\t\tif(this.currentTime > 0) {\n\t\t\t\tthis.timeProgress = this.currentTime\n\t\t\t}\n\t\t\t// 游戏结束\n\t\t\telse { \n\t\t\t\tthis.pause()\n\t\t\t\ttimer.delete(this.timer)\n\t\t\t\tthis.event.dispatch('gameover', '超时')\n\t\t\t}\n\t\t}, 100)\n\t}\n\n\t// 暂停\n\tpause() { \n\t\tthis.paused = true\n\t\tTweenMax.pauseAll()\n\t\tthis.ticker.stop()\n\t\ttimer.pause()\n\t}\n\t// 恢复\n\tresume() { \n\t\tthis.paused = false\n\t\tTweenMax.resumeAll()\n\t\tthis.ticker.start()\n\t\ttimer.resume()\n\t}\n}\n\nexport default Puzzle\n","import Puzzle from './Puzzle'\n\nimport '../css/puzzle.css'\n\n// 关卡信息\nconst levels = [\n  {\n    // 大图\n    picture: require('../images/pictures/a.jpg'), \n    // 小图\n    thumb: require('../images/covers/a.jpg'), \n    // 描述\n    instr: \"秋天的银杏树\", \n    // 免费\n    free: true\n  }, \n  {\n    // 大图\n    picture: require('../images/pictures/b.jpg'), \n    // 小图\n    thumb: require('../images/covers/b.jpg'), \n    // 描述\n    instr: \"毕加索的画 ---- 少女\", \n    // 免费\n    free: true\n  }, \n  {\n    // 大图\n    picture: require('../images/pictures/c.jpg'), \n    // 小图\n    thumb: require('../images/covers/c.jpg'), \n    // 描述\n    instr: \"毕加索的画 ---- 树\", \n    // 免费\n    free: true\n  }, \n  {\n    // 大图\n    picture: require('../images/pictures/d.jpg'), \n    // 小图\n    thumb: require('../images/covers/d.jpg'), \n    // 描述\n    instr: \"毕加索的画 ---- 桥\", \n    // 免费\n    free: true\n  }, \n  {\n    // 大图\n    picture: require('../images/pictures/e.jpg'), \n    // 小图\n    thumb: require('../images/covers/e.jpg'), \n    // 描述\n    instr: \"不知道哪里来的美女\", \n    // 免费\n    free: false\n  }\n]\n\n// 从 localStorage 中读取记录\nconst record = JSON.parse(localStorage.getItem(\"puzzle-record\")) || {level: -1, difficulty: 2}\n// 初始化列表\npuzzleList.innerHTML = levels.map(\n  (level, index) =>\n    `\n      <li\n        onclick=\"this.className === \\'puzzle_lock\\' || selectLevel(${index})\"\n        ${record.level < index && level.free !== true ? 'class=\"puzzle_lock\"' : ''}\n      >\n        <span class=\"puzzle_map_thumb\">\n          <img src=\"${level.thumb}\">\n        </span>\n        <span class=\"puzzle_map_instr\">\n          ${level.instr}<br>\n          <b>${level.free === true ? '免费' : '解锁可玩'}</b>\n        </span>\n      </li>\n    `\n).join(\"\\n\")\n\nconst puzzleLevel = puzzleList.querySelectorAll(\"li\")\n\n// 显示地图 \nglobal.showPuzzleMap = function() {\n  puzzleMap.className = \"puzzle_map show\"\n}\n// 隐藏地图\nglobal.hidePuzzleMap = function() {\n  puzzleMap.className = \"puzzle_map\";  \n}\n\n// 选择关卡\nglobal.selectLevel = function(index) { \n  puzzleGame.className = \"puzzle_game show\"\n  setTimeout(function() {\n    puzzle.enter(levels[index].picture)\n    record.level = index\n    updateRecord()\n  }, 600)\n}\n\n// 返回\nglobal.back = function() {\n  puzzleAd.style.display = \"none\"\n  puzzleGame.className = \"puzzle_game\"\n}\n\n// 更新记录\nconst updateRecord = function() {\n  localStorage.setItem(\"puzzle-record\", JSON.stringify(record))\n}\n\n// 设置难度\nconst setDifficulty = function(difficulty) { \n  difficulty = difficulty | 0\n  difficulty = difficulty > 1 ? difficulty : 1\n  difficultyOpts[difficulty - 1].checked = \"checked\"\n  puzzle.difficulty = difficulty\n  puzzle.totalTime = difficulty * 120\n}\n\n// 创建拼图对象\nconst puzzle = new Puzzle()\n\n// 默认进入第一张图\npuzzle.init()\n// 设置倒计时\npuzzle.totalTime = 60\n\n// 通关\npuzzle.event.on(\"pass\", function() { \n  if(record.level < levels.length - 1) { \n    // 解锁\n    puzzleLevel[++record.level].className = \"\"\n    puzzle.enter(levels[record.level].picture)\n    updateRecord();  \n  }\n  else {\n    alert(\"游戏结束\")\n  }\n})\n\n// 游戏结束\npuzzle.event.on(\"gameover\", function() {\n  alert(\"超时了\")\n})\n\n// 暂停显示广告\npuzzle.event.on(\"pause\", function() {\n  puzzleAd.style.display = \"block\"\n})\n\n// 恢复隐藏广告\npuzzle.event.on(\"resume\", function() {\n  puzzleAd.style.display = \"none\"\n})\n\n// 难度选项\nconst difficultyOpts = document.querySelectorAll(\".puzzle_difficulty\")\ndifficultyOpts.forEach(function(opt) {\n  opt.addEventListener(\"click\", function() {\n    record.difficulty = this.value\n    puzzle.difficulty = this.value\n    updateRecord()\n  })\n})\n\n// 同步游戏难度\nsetDifficulty(record.difficulty)\n\n// 玩过 \nif(record.level >= 0) {\n  resumeGame.className = \"puzzle_btn\"\n  resumeGame.onclick = function() {\n    selectLevel(record.level)\n  }\n}\n// 没玩过\nelse {\n  resumeGame.className = \"puzzle_btn disabled\"\n} \n\nglobal.puzzle = puzzle\n","/*\n\t@ author: leeenx\n\t@ 事件封装\n\t@ object.on(event, fn) // 监听一个事件\n\t@ object.off(event, fn) // 取消监听\n\t@ object.once(event, fn) // 只监听一次事件\n\t@ object.dispacth(event, arg) // 触发一个事件\n*/\n\nexport default class Event {\n\tconstructor() {\n\t\t// 定义的事件与回调\n\t    this.defineEvent = {}; \n\t}\n\t// 注册事件\n\tregister(event, cb) { \n\t\tif(!this.defineEvent[event]) {\n\t\t\t(this.defineEvent[event] = [cb]); \n\t\t}\n\t\telse {\n\t\t\tthis.defineEvent[event].push(cb); \n\t\t} \n\t}\n\t// 派遣事件\n\tdispatch(event, arg) {\n\t\tif(this.defineEvent[event]) {{\n            for(let i=0, len = this.defineEvent[event].length; i<len; ++i) { \n                this.defineEvent[event][i] && this.defineEvent[event][i](arg); \n            }\n        }}\n\t}\n\t// on 监听\n\ton(event, cb) {\n\t\treturn this.register(event, cb); \n\t}\n\t// off 方法\n    off(event, cb) {\n        if(this.defineEvent[event]) {\n            if(typeof(cb) == \"undefined\") { \n                delete this.defineEvent[event]; // 表示全部删除 \n            } else {\n                // 遍历查找 \n                for(let i=0, len=this.defineEvent[event].length; i<len; ++i) { \n                    if(cb == this.defineEvent[event][i]) {\n                        this.defineEvent[event][i] = null; // 标记为空 - 防止dispath 长度变化 \n                        // 延时删除对应事件\n                        setTimeout(() => this.defineEvent[event].splice(i, 1), 0); \n                        break; \n                    }\n                }\n            }\n        } \n    }\n\n    // once 方法，监听一次\n    once(event, cb) { \n        let onceCb = () => {\n        \tcb && cb(); \n        \tthis.off(event, onceCb); \n        }\n        this.register(event, onceCb); \n    }\n    // 清空所有事件\n    clean() {\n        this.defineEvent = {}; \n    }\n}","/*\n\t@ author: leeenx\n\t@ name: 网格随机分布算法\n*/\n\nexport default class Gridistribution{\n\tconstructor(...args) {\n\t\tthis.init(...args); \n\t}\n\t// 初始化\n\tinit({width, height, cell = {width: 10}, rectangles = []}) {\n\t\twidth = width >> 0; \n\t\theight = height >> 0; \n\t\t// 格子的高默认与它的宽一样\n\t\tcell.height === undefined && (cell.height = cell.width); \n\t\t// 列数\n\t\tlet col = width / cell.width >> 0; \n\t\t// 行数\n\t\tlet row = height / cell.height >> 0; \n\t\t// 宽高修正\n\t\t[cell.width, cell.height] = [width / col, height / row]; \n\t\t// 表格数组\n\t\tthis.grid = new Array(col * row); \n\t\tfor(let i = 0; i < row; ++i) {\n\t\t\tfor(let j = 0; j < col; ++j) { \n\t\t\t\tlet index = i * col + j; \n\t\t\t\tthis.grid[index] = {\n\t\t\t\t\tindex, \n\t\t\t\t\tx: cell.width * j, \n\t\t\t\t\ty: cell.height * i, \n\t\t\t\t\twidth: cell.width, \n\t\t\t\t\theight: cell.height, \n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// 挂载属性\n\t\tObject.assign(this, {row, col, width, height, cell: cell}); \n\t\t// 剔除不可分布成员\n\t\tthis.trim(rectangles); \n\t}\n\t// 重置\n\treset(...args) { \n\t\tthis.init(...args); \n\t}\n\t_shuffle(a) {\n\t    for (let i = a.length; i; i--) {\n\t        let j = Math.floor(Math.random() * i);\n\t        [a[i - 1], a[j]] = [a[j], a[i - 1]];\n\t    }\n\t    return a;\n\t}\n\t// 从数组中剔除空洞\n\ttrim(rectangles) { \n\t\trectangles.forEach(({x, y, width, height}) => {\n\t\t\t// 把 rectangle 框起的范围从 grid 中删除\n\t\t\tlet startCol = x / this.cell.width >> 0; \n\t\t\tlet startRow = y / this.cell.height >> 0; \n\t\t\tlet endCol = (x + width) / this.cell.width >> 0; \n\t\t\tlet endRow = (y + height) / this.cell.height >> 0; \n\t\t\tfor(let i = startRow; i <= endRow; ++i) {\n\t\t\t\tfor(let j = startCol; j <= endCol; ++j) {\n\t\t\t\t\tlet index = i * this.col + j; \n\t\t\t\t\tthis.grid[index].isRemoved = true; \n\t\t\t\t}\n\t\t\t}\n\t\t}); \n\t\t// 生成压缩后的格子\n\t\tthis.cells = this.grid.filter(cell => !cell.isRemoved); \n\t\tthis.shuffleCells = this._shuffle(this.cells.concat([])); \n\t}\n\t// 随机返回 count 个格子\n\tpick(count) {\n\t\tif(count > this.shuffleCells.length) {\n\t\t\t// throw(\"超出范围\"); \n\t\t\treturn []; \n\t\t}\n\t\treturn this.shuffleCells.slice(0, count); \n\t}\n}","/*\n    author: leeenx\n    @ timer 对象\n    @ 提供 7 个API如下：\n    @ timer.setTimeout(fun, delay[, id])\n    @ timer.clearTimeout(id)\n    @ timer.setInterval(fun, delay[, id])\n    @ timer.clearInterval(id)\n    @ timer.delete(id) 删除对应id的timeout/interval\n    @ timer.pause(id) 暂停对应id的timeout/interval\n    @ timer.resume(id) 恢复对应id的timeout/interval\n    @ timer.clean() 清空所有 timeout & interval\n*/\n\nclass Timer {\n    // 构造函数 \n    constructor() { \n        // 暂停状态 - 这是个公共状态，由外部 Ticker 决定。\n        this.paused = true\n\n        // 队列\n        this.queue = new Map()\n\n        // 正在使用 timer 的 RAF\n        this.usingRAF = false\n\n        // useRAF 触发器\n        Reflect.defineProperty(this, \"useRAF\", {\n            set: function(value) {\n                Reflect.set(this, \"usingRAF\", value)\n                value ? Timer.RAF.enable() : Timer.RAF.disable()\n            }\n        })\n    }\n\n    // setTimeout 的实现\n    setTimeout(fn, delay, id = Symbol(\"timeoutID\")) { \n        // 存入队列 \n        this.queue.set(id, {\n            fn: fn, \n            type: 0, \n            paused: 0, \n            elapsed: 0, \n            delay: delay\n        })\n        return id\n    }\n\n    // clearTimeout\n    clearTimeout(id) {\n        return this.delete(id)\n    }\n\n    // setInterval 的实现\n    setInterval(fn, delay, id = Symbol(\"intervalID\")) {\n        // 存入队列\n        this.queue.set(id, {\n            fn: fn, \n            type: 1, \n            paused: 0, \n            elapsed: 0, \n            delay: delay\n        })\n        return id\n    }\n\n    // clearInterval\n    clearInterval(id) {\n        return this.delete(id)\n    }\n\n    // 修改指定id的 delay/fn\n    set(id, config = {}) { \n        let item = this.queue.get(id) || {}\n        for(let key in config) {\n            item[key] = config[key]\n        }\n\treturn true\n    }\n\n    // 删除 queue 上的成员\n    delete(id) {\n        return this.queue.delete(id)\n    }\n\n    // 暂停指定id\n    pause(id) {\n        id === undefined ? this.pauseAll() : (this.queue.get(id).paused = 1)\n\treturn true\n    }\n\n    // 恢复指定id\n    resume(id) {\n        return this.play(id)\n    } \n    \n    // 播放指定id\n    play(id) {\n        id === undefined ? this.playAll() : (this.queue.get(id).paused = 0)\n\treturn true\n    } \n\n    // 清空timer\n    clean() {\n        this.queue = new Map()\n\treturn true\n    }\n\n    // 暂停全部 id\n    pauseAll() {\n        this.queue.forEach((item) => item.paused = 1)\n\treturn true\n    }\n\n    // 播放全部 id\n    playAll() {\n        this.queue.forEach((item) => item.paused = 0)\n\treturn true\n    }\n\n    // tick\n    tick(delta) { \n        this.paused || this.updateQueue(delta)\n    }\n\n    // 更新 map 队列\n    updateQueue(delta) { \n        this.queue.forEach((item, id) => {\n            if(item.paused === 1) return\n            item.elapsed += delta\n            if(item.elapsed >= item.delay) {\n                item.fn()\n                item.type === 0 ? this.delete(id) : (item.elapsed = 0)\n            } \n        })\n    }\n\n    // 状态更新\n    update() { \n        // 第一次调用 update 时主动停用原生接口\n        this.useRAF = false\n\n        // 下面是真正的 update\n        this.update = (delta) => {\n        \tif(this.usingRAF) return\n\t        this.tick(delta)\n        } \n    }\n\n}\n\nclass AnimationFrame { \n    constructor() {\n        this.time = 0\n        this.auto = this.auto.bind(this)\n    }\n    auto(elapsed) { \n        timer.tick(elapsed - this.time)\n        this.time = elapsed\n        this.id = requestAnimationFrame(this.auto)\n    }\n    enable() { \n        timer.paused = false\n        this.id = requestAnimationFrame(this.auto)\n    }\n    disable() {\n        cancelAnimationFrame(this.id)\n    }\n}\n\n// 原生RAF\nTimer.RAF = new AnimationFrame()\n\n// 对外接口\nlet timer = new Timer()\n\n// 默认使用原生 RAF\ntimer.useRAF = true\n// 导出timer\nexport default timer; ","/*\n\t@ PIXI 扩展\n*/\n// DisplayObject 的原型\nvar proto = PIXI.DisplayObject.prototype\nproto.set = function(arg) {\n\tfor(let key in arg) {\n\t\tthis[key] = arg[key]\n\t}\n}\n\nproto.offsetX = proto.offsetY = 0\n\nObject.defineProperties(proto, {\n\tscaleX: {\n\t\tset: function(value) { \n\t\t\tif(this.scale.x !== value) { \n\t\t\t\tthis.scale.x = value\n\t\t\t}\n\t\t}, \n\t\tget: function() {\n\t\t\treturn this.scale.x\n\t\t}\n\t}, \n\tscaleY: {\n\t\tset: function(value) { \n\t\t\tif(this.scale.y !== value) { \n\t\t\t\tthis.scale.y = value\n\t\t\t}\n\t\t}, \n\t\tget: function() {\n\t\t\treturn this.scale.y\n\t\t}\n\t}, \n\tskewX: {\n\t\tset: function(value) {\n\t\t\tif(this.skew.x !== value) { \n\t\t\t\tthis.skew.x = value\n\t\t\t}\n\t\t}, \n\t\tget: function() {\n\t\t\treturn this.skew.x\n\t\t}\n\t}, \n\tskewY: {\n\t\tset: function(value) {\n\t\t\tif(this.skew.y !== value) { \n\t\t\t\tthis.skew.y = value\n\t\t\t}\n\t\t}, \n\t\tget: function() {\n\t\t\treturn this.skew.y\n\t\t}\n\t}, \n\trotate: {\n\t\tset: function(value) {\n\t\t\tif(this.rotation !== value) { \n\t\t\t\tthis.rotation = value\n\t\t\t}\n\t\t}, \n\t\tget: function() {\n\t\t\treturn this.rotation\n\t\t}\n\t}, \n\tpivotX: {\n\t\tset: function(value) {\n\t\t\tthis.pivot.x = value\n\t\t}, \n\t\tget: function() {\n\t\t\treturn this.pivot.x\n\t\t}\n\t}, \n\tpivotY: {\n\t\tset: function(value) {\n\t\t\tthis.pivot.y = value\n\t\t}, \n\t\tget: function() {\n\t\t\treturn this.pivot.y\n\t\t}\n\t}, \n\tanchorX: {\n\t\tset: function(value) {\n\t\t\tthis.anchor.x = value\n\t\t}, \n\t\tget: function() {\n\t\t\treturn this.anchor.x\n\t\t}\n\t}, \n\tanchorY: {\n\t\tset: function(value) {\n\t\t\tthis.anchor.y = value\n\t\t}, \n\t\tget: function() {\n\t\t\treturn this.anchor.y\n\t\t}\n\t}, \n\torigin: {\n\t\tget: function() { \n\t\t\treturn [this.pivot.x, this.pivot.y]\n\t\t}, \n\t\tset: function(coord) { \n\t\t\t// rotation/skew/scale 会影响 pivot 定位\n\t\t\tlet parent = this.parent || this._tempDisplayObjectParent\n\t\t\t// 未形变的左上角坐标\n\t\t\tlet pointA = {x: this._left, y: this._top}\n\t\t\t// 形变后的中心坐标\n\t\t\tlet pointB = parent.toLocal(new PIXI.Point(coord[0], coord[1]), this)\n\t\t\t\n\t\t\t// 盒子偏移\n\t\t\tthis.boxOffsetX = pointB.x - (pointA.x + coord[0])\n\t\t\tthis.boxOffsetY = pointB.y - (pointA.y + coord[1])\n\t\t\t// 几何中心的偏移量\n\t\t\tthis.offsetX = pointB.x - pointA.x - this.boxOffsetX\n\t\t\tthis.offsetY = pointB.y - pointA.y - this.boxOffsetY\n\n\t\t\tthis.x = this._left + this.offsetX\n\t\t\tthis.y = this._top + this.offsetY\n\n\t\t\tthis.pivot.set(coord[0], coord[1])\n\t\t}\n\t}, \n\tleft: { \n\t\tget: function() {\n\t\t\treturn this._left\n\t\t}, \n\t\tset: function(value) {\n\t\t\tthis._left = value\n\t\t\tthis.x = value + this.offsetX\n\t\t}\n\t}, \n\tright: {\n\t\tget: function() {\n\t\t\treturn this._right\n\t\t}, \n\t\tset: function(value) { \n\t\t\tif(value === undefined) return \n\t\t\tthis._right = value\n\t\t\t// 由 left 实现 \n\t\t\tthis.left = this.parent.width - this.width - value\n\t\t}\n\t}, \n\ttop: { \n\t\tget: function() {\n\t\t\treturn this._top\n\t\t}, \n\t\tset: function(value) { \n\t\t\tthis._top = value\n\t\t\tthis.y = value + this.offsetY\n\t\t}\n\t}, \n\tbottom: {\n\t\tget: function() {\n\t\t\treturn this._bottom\n\t\t}, \n\t\tset: function(value) { \n\t\t\tif(value === undefined) return \n\t\t\tthis._bottom = value\n\t\t\t// 由 top 实现\n\t\t\tthis.top = this.parent.height - this.height - value\n\t\t}\n\t}, \n\t// 运动时间\n\ttime: {\n\t\tset: function(t) { \n\t\t\tlet elapsed = t - this._t || t\n\t\t\tthis._t = t\n\t\t\tlet {velocityX, velocityY, accelerationX, accelerationY} = this\n\t\t\t// 当前速度 \n\t\t\tthis.velocityX += elapsed * accelerationX\n\t\t\tthis.velocityY += elapsed * accelerationY\n\t\t\t// 当前位置\n\t\t\tthis.x += (this.velocityX + velocityX) * elapsed / 2\n\t\t\tthis.y += (this.velocityY + velocityY) * elapsed / 2\n\t\t}, \n\t\tget: function() {return this._t}\n\t}, \n\tindex: {\n\t\tset: function(value) {\n\t\t\tif(this._index !== value) {\n\t\t\t\tthis._index = value\n\t\t\t\tthis.parent.setChildIndex(this, value)\n\t\t\t}\n\t\t}, \n\t\tget: () => this._index\n\t}\n})\n\n// 为原型添加速度与加速度属性等\nObject.assign(\n\tproto, \n\t{\n\t\tvelocityX: 0, \n\t\tvelocityY: 0, \n\t\taccelerationX: 0, \n\t\taccelerationY: 0, \n\t\t_top: 0, \n\t\t_left: 0\n\t}\n)\n\n// 监听 addChild\nvar _addChild = PIXI.Container.prototype.addChild\nPIXI.Container.prototype.addChild = function() { \n\tvar len = arguments.length\n\tif(len === 0) return \n\t_addChild.apply(this, arguments)\n\t// 更新 right & bottom\n\tfor(var i = 0; i < len; ++i) { \n\t\tvar child = arguments[i]\n\t\tchild.right = child._right\n\t\tchild.bottom = child._bottom\n\t}\n}\nvar _addChildAt = PIXI.Container.prototype.addChildAt\nPIXI.Container.prototype.addChildAt = function(child, index) {\n\t_addChildAt.call(this, child, index)\n\t// 更新 right & bottom\n\tchild.right = child._right\n\tchild.bottom = child._bottom\n}\n\n// 获取不带描边的boudary\n{\n    let dirty = Symbol(\"dirty\")\n    let getContentBox = function() {\n        if(this[dirty] == this.dirty) return \n        this[dirty] = this.dirty; // 表示已经更新\n        let cp = this.clone()\n        let graphicsData = cp.graphicsData\n        for(let graphics of graphicsData) {\n            graphics.lineWidth = 0\n        } \n        this._cwidth = cp.width\n        this._cheight = cp.height\n    }\n    Object.defineProperties(PIXI.Graphics.prototype, {\n        \"_cwidth\": {writable: true, value: 0}, \n        \"_cheight\": {writable: true, value: 0}, \n        \"cwidth\": {\n            get: function() {\n                getContentBox.call(this)\n                return this._cwidth\n            }\n        }, \n        \"cheight\": {\n            get: function() {\n                getContentBox.call(this)\n                return this._cheight\n            }\n        }\n    })\n}\n\n// 动态生成 DisplayObject 缓存\nPIXI.DisplayObject.prototype.generateCanvasTexture = function(renderer) { \n\tlet rect = this.getBounds()\n\tlet cache = PIXI.RenderTexture.create(rect.width, rect.height)\n\tthis.setTransform()\n\trenderer.render(this, cache)\n\treturn cache\n}\n\n// 封装微信手Q的 visibilitychange 事件\ndocument.addEventListener(\"qbrowserVisibilityChange\", function(e){\n    var evt = document.createEvent(\"HTMLEvents\")\n    evt.initEvent(\"visibilitychange\", false, false)\n    evt.hidden = e.hidden\n    document.dispatchEvent(evt)\n}, true)\ndocument.addEventListener(\"visibilitychange\", function(e) {\n    e.hidden = e.hidden === undefined ? document.hidden : e.hidden\n}, true)\n\n\n\n\n\n\n","module.exports = TweenMax;","module.exports = PIXI;","module.exports = PIXI[\"filters\"];"],"sourceRoot":""}